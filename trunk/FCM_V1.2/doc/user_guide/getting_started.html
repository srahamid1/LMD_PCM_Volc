<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <title>FCM System User Guide: Getting Started</title>
  <meta name="author" content="FCM development team">
  <meta name="descriptions" content="User Guide - Getting Started">
  <meta name="keywords" content="FCM, user guide, getting started, tutorial">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <address>
    <a href="index.html">FCM System User Guide</a> &gt; Getting Started
  </address>

  <h1>Getting Started</h1>

  <p><em>Getting Started</em> is a "hands-on" approach to help you set up your
  FCM session, and familiarise yourself with some of the system's basic
  concepts and working practices. It is designed to complement other sections
  of the User Guide.</p>

  <p>You may also find it useful to refer to the <a href=
  "annex_quick_ref.html">Annex: Quick reference</a>.</p>

  <h2><a name="setup">How to set yourself up to run FCM</a></h2>

  <p>It is easy to set yourself up to run FCM. Simply follow the steps
  below:</p>

  <p><strong>Setting up your PATH</strong></p>

  <p>The full FCM system is already available for you to use on the Met Office
  Linux desktop systems. On other Met Office systems (currently NEC &amp;
  HP-UX) only the build component is functional.</p>

  <p>On Linux &amp; HP-UX systems FCM is automatically available in the
  standard PATH. It is also automatically added to your PATH when you run UI
  jobs on the NEC computers. However, if you intend to run FCM from the command
  line on the NEC then you will need to add the following to your
  <tt>$HOME/.profile</tt> script on that platform:</p>
  <pre>
. ~fcm/FCM/bin/env.sh  # Add FCM environment
</pre>

  <p><strong>Setting up the FCM GUI to work with Konqueror</strong></p>

  <p>If you like to use a graphical user interface for some common code
  management commands, you can set it up for launching from your desktop
  Konqueror file manager by typing:</p>
  <pre>
(SHELL PROMPT)$ fcm_setup_konqueror
</pre>

  <p>See the section on <a href=
  "code_management.html#svn_gui_konqueror">Accessing the GUI from Konqueror</a>
  for further information.</p>

  <p>Note that the first time you issue a command which requires authentication
  you may need to supply a password or run it from the command line. See the
  section on <a href="code_management.html#svn_gui_commands">GUI Commands</a>
  for further information.</p>

  <p><strong>Configure your editor for Subversion</strong></p>

  <p>When you attempt to create a branch or commit changes to the repository,
  you will normally be prompted to edit your commit log message using a text
  editor. The system chooses its editor by searching for a non-empty string
  through a hierarchy of environment variables in this order: SVN_EDITOR,
  VISUAL, and EDITOR. If none of these environment variables are set, the
  default is to use <em>nedit</em>. If you set your editor with an environment
  variable, it is worth bearing in mind that it must be able to run in the
  foreground. For example, you can add one of the followings in your
  <tt>$HOME/.kshrc</tt> (Korn) or <tt>$HOME/.bashrc</tt> (Bash):</p>
  <pre>
# GVim
export SVN_EDITOR='gvim -f'

# Emacs
export SVN_EDITOR=emacs

# NEdit client "nc"
export SVN_EDITOR='nc -wait'
</pre>

  <p><strong>Register your user name</strong></p>

  <p>At the Met Office, most projects managed by FCM grant write accesses to
  their Subversion repositories and Trac ticket create/modify privileges to
  authorised users only. If you are developing code for a project for the first
  time, please contact the system manager of the project, who will arrange with
  the FCM team to put your user name in the register.</p>

  <p><strong>Configure your e-mail address in Trac</strong></p>

  <p>Trac can be configured to send automatic e-mail notifications to authors of
  any ticket whenever there are changes to that ticket (and we would expect most
  systems to be configured in this way). You should check that the settings for
  your name and e-mail address are correct. To do this you need to go to the
  Settings page once you are logged into Trac. (Click on &lt;Settings&gt; just
  above the menu bar). Check that your settings are entered correctly. Note: at
  the Met Office, these settings are set up and maintained automatically, and so
  you should report any errors to the FCM team.</p>

  <p><strong>Configure your web browser</strong></p>

  <p>FCM assumes that you are using Firefox as your default web browser. If you
  use another web browser such as Mozilla, you should configure it in your
  <tt>$HOME/.fcm</tt> file. See the section on <a href=
  "command_ref.html#fcm_svn_trac">fcm trac</a> for further information.</p>

  <h2><a name="tutorial">Tutorial</a></h2>

  <h3><a name="tutorial_intro">Introduction</a></h3>

  <p>This tutorial leads you through the basics of using FCM to make changes to
  your source code, and demonstrates the recommended practices for working with
  it. A tutorial Subversion repository, with its own Trac system, is available
  for you to practice for working with the FCM system. You will work through
  the following activities:</p>

  <ul>
    <li><a href="#tutorial_create-ticket">Create a new ticket</a></li>

    <li><a href="#tutorial_launch-gui">Launch the GUI</a></li>

    <li><a href="#tutorial_create-branch">Create a branch</a></li>

    <li><a href="#tutorial_checkout">Checkout a working copy</a></li>

    <li><a href="#tutorial_change">Make changes to files in your working
    copy</a></li>

    <li><a href="#tutorial_commit">Commit your changes to the
    repository</a></li>

    <li><a href="#tutorial_extract">Test your changes</a></li>

    <li><a href="#tutorial_merge">Merge changes from the trunk and resolve
    conflicts</a></li>

    <li><a href="#tutorial_review-ticket">Review changes</a></li>

    <li><a href="#tutorial_merge-back">Commit to the trunk</a></li>

    <li><a href="#tutorial_extra-extract">Extra activities on the extract and
    build systems</a></li>

    <li><a href="#tutorial_delete-branch">Delete your branch</a></li>

    <li><a href="#tutorial_delete-final-comments">Final comments</a></li>
  </ul>

  <p>We recommend that you create a work area in your filespace, for example,
  <tt>$HOME/tutorial/work</tt> for your working copy, and
  <tt>$HOME/tutorial/build</tt> for your build.</p>

  <p>If you have not already done so, you should set up your desktop environment
  as described above in the <a href="#setup">How to set yourself up to run
  FCM</a> section.</p>

  <p>It is also worth knowing that the <a href=
  "http://svnbook.red-bean.com/en/1.2/">Subversion Book</a> is a great source
  of reference of Subversion features. In particular, the <a href=
  "http://svnbook.red-bean.com/en/1.2/svn.basic.html">Basic Concepts</a> and
  <a href="http://svnbook.red-bean.com/en/1.2/svn.tour.html">Guided Tour</a>
  chapters are well worth reading.</p>

  <h3><a name="tutorial_create-ticket">Create a new ticket</a></h3>

  <p><em>Trac is an integrated web-based issue tracker and wiki system. You
  will use it to manage and keep track of changes in your project. The issue
  tracker is called the ticket system. When you want to report a problem or
  submit a change request, you will create a new ticket. In a typical
  situation, you and/or your colleagues will make changes to your system in
  order to resolve the problem or change request, and you will monitor these
  changes via the ticket.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>launch a Trac system,</li>

    <li>create a new Trac ticket,</li>

    <li>search for a Trac ticket, and</li>

    <li>accept a Trac ticket.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li><a href="overview.html">System Overview</a></li>

    <li>Code Management System &gt; <a href=
    "code_management.html#svn_basic">Basic Command Line Usage</a></li>

    <li>Code Management System &gt; <a href="code_management.html#trac">Using
    Trac</a></li>

    <li>FCM Command Reference &gt; <a href="command_ref.html#fcm_svn_trac">fcm
    trac</a></li>
  </ul>

  <h4>Launch a Trac system</h4>

  <p>To launch the Trac system for the tutorial: type and <span class=
  "mono">&lt;Enter&gt;</span> the following command:</p>
  <pre>
(SHELL PROMPT)$ fcm trac fcm:tutorial
</pre>

  <p>This is probably the first time you have used the <tt>fcm</tt> command.
  The command has the general syntax:</p>
  <pre>
fcm &lt;sub-command&gt; [&lt;options...&gt;] &lt;arguments&gt;
</pre>

  <p>For example, if you type <tt>fcm help</tt>, it will display a listing of
  what sub-commands are available, and if you type <tt>fcm help
  &lt;sub-command&gt;</tt>, it will display help for that particular
  sub-command.</p>

  <p>The <tt>trac</tt> sub-command launches the corresponding Trac system
  browser for a Subversion URL specified in your argument. In this case, we are
  asking it to display the Trac system browser for the tutorial. The argument
  <tt>fcm:tutorial</tt> is a FCM URL keyword and will be expanded by FCM into a
  real Subversion URL (e.g. <tt>svn://fcm1/tutorial_svn/tutorial</tt>). You are
  encouraged to use FCM URL keywords throughout the tutorial, as it will save
  you a lot of typing.</p>

  <p>Note: Although we use the Trac system as a browser for a Subversion
  repository, they do not interact in any other ways. Having access to a Trac
  system does not guarantee the same privilege to a Subversion repository. In
  particular, you should note the differences between the URLs of a Subversion
  repository path and its equivalence in a Trac browser.</p>

  <p>There are other ways to launch the Trac system for a project. If you know
  its URL, you can launch the Trac system by entering it in the address box of
  your favourite browser. If you often access a Trac system for a particular
  project, you should bookmark it in your favourite browser.</p>

  <h4>Create a new Trac ticket</h4>

  <p>Click on <span class="mono">&lt;Login&gt;</span> just above the menu bar,
  enter your Unix/Linux user ID as your user name and leave the password empty.
  Then click on <span class="mono">&lt;OK&gt;</span> to proceed.</p>

  <p>Once you have logged in, the <span class="mono">&lt;New Ticket&gt;</span>
  link will become available on the menu bar. Click on it to display a new
  ticket form, where you can enter details about your problem or change
  request. In the tutorial, it does not matter what you enter, but you should
  feel free to play around with wiki formatting when entering the "Full
  description". (Click on <span class="mono">&lt;WikiFormatting&gt;</span> to
  see how you can use it.) For example:</p>

  <ul>
    <li>Short summary:
      <pre>
Tutorial to change repository files and resolve conflicts with the trunk
</pre>
    </li>

    <li>Full description:
      <pre>
In this tutorial, I shall:
 1. try out the FCM GUI and its functions
 2. play with WikiFormatting in Trac tickets     
 3. create a branch and checkout a working copy
 4. make changes to files in it
 5. commit my changes and assign the ticket for review
 6. record the review and assign the ticket back to the author
 7. merge in the trunk, and resolve any conflicts 
 8. merge my changes back to the trunk
 9. close the ticket
 10. delete my branch
</pre>
    </li>

    <li>Feel free to select an option you desire for each of the other ticket
    properties: Type, Component, Priority, Version, Milestone and
    Severity.</li>
  </ul>

  <p>At the bottom of the page, click the <span class=
  "mono">&lt;Preview&gt;</span> button to see what the description would look
  like. When you are happy, click the <span class="mono">&lt;Submit
  changes&gt;</span> button. Trac will create the new ticket and return it in a
  state where you can append to it.</p>

  <p>When the ticket is created, you should get an automatic e-mail notication
  from the Trac system. In real life, depending on the setting, the owner of
  your Trac system may also get a similar e-mail notification. It is worth
  noting that each time the ticket is modified, the Trac system will send out an
  e-mail notification to you (the reporter) and anyone who modified the ticket
  subsequently.</p>

  <h4>Search for a Trac ticket</h4>

  <p>You should remember the number of your new ticket, as you will have to
  revisit it later.</p>

  <p>In real work, it is often not practical to have to remember the numbers of
  all the tickets you have created. Trac provides a powerful custom query for
  searching a ticket. You can search for the ticket you have just created by
  clicking the <span class="mono">&lt;View Tickets&gt;</span> link. Feel free
  to play with the custom query tool. Add or remove filters and try grouping
  your results by different categories.</p>

  <p>In addition, you can search your ticket using the keyword <span class=
  "mono">&lt;Search&gt;</span> utility at the top right hand corner of each
  Trac page. (If you enter <tt>#&lt;number&gt;</tt> in the search box, it will
  take you directly to that ticket.) In the tutorial, however, it may be
  easiest if you simply leave the tutorial Trac system open, so that you do not
  have to login again when you come back to your ticket.</p>

  <h4>Accept Trac ticket</h4>

  <p>The status of the ticket is <em>new</em>. When you start working on a
  problem reported in a ticket or when you are reviewing changes for a
  colleague, it is often good practice to "accept" the ticket to indicate that
  you are working on it. For the purpose of the tutorial, however, it is
  entirely optional whether you accept the ticket or not, since you know you
  will be doing all the work any way.</p>

  <p>To accept a ticket, click on <span class="mono">&lt;accept
  ticket&gt;</span> in the <em>Action</em> box at the bottom of the page, and
  then click on <span class="mono">&lt;Submit changes&gt;</span>.</p>

  <h3><a name="tutorial_launch-gui">Launch the GUI</a></h3>

  <p><em>The FCM GUI is a basic graphical wrapper for some of the common code
  management commands. Most examples in this tutorial can be done via the GUI.
  You can skip this section and use only the command line if that is what you
  prefer. Where appropriate, usage examples will be given for both the command
  line and the FCM GUI.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>launch the GUI from the command line, and</li>

    <li>launch the GUI from Konqueror.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; <a href=
    "code_management.html#svn_gui">Using the GUI</a></li>

    <li>FCM Command Reference &gt; <a href="command_ref.html#fcm_gui">fcm
    gui</a></li>
  </ul>

  <h4>Launch the GUI from the command line</h4>

  <p>You can launch the GUI from the command line. Change directory to your
  work area and then type <tt>fcm gui</tt>.</p>

  <h4>Launch the GUI from Konqueror</h4>

  <p>Alternatively, open Konqueror and navigate to your work area. Right-click
  in the file-manager window to bring up a menu. Select <em>Open with</em> &gt;
  <em>FCM GUI</em>.</p>

  <h3><a name="tutorial_create-branch">Create a branch</a></h3>

  <p><em>You create a branch by making a copy of your project at a particular
  revision. Most often, this will be a particular revision of the trunk, i.e.
  the main branch/development line in your project.  A branch resides in the
  repository. It allows you to work in parallel with your colleagues without
  affecting one another, while keeping your changes under version
  control.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>create a branch in a Subversion repository, and</li>

    <li>update a ticket with a link to a branch.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; Branching &amp; Merging &gt; <a href=
    "code_management.html#svn_branching_create">Creating Branches</a></li>

    <li>Code Management Working Practices &gt; <a href=
    "working_practices.html#branching">Branching &amp; Merging</a></li>

    <li>FCM Command Reference &gt; <a href="command_ref.html#fcm_svn_br">fcm
    branch</a></li>
  </ul>

  <h4>Create a branch in a Subversion repository</h4>

  <p><em>Command line</em>: issue the <tt>fcm branch --create</tt> (or simply
  <tt>fcm br -c</tt>) command. E.g.:</p>
  <pre>
(SHELL PROMPT)$ fcm br -c -n tutorial -r 1 --type test -k 2 fcm:tutorial
</pre>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Branch&gt;</span> on the
  top menu bar of the GUI. Check the <span class="mono">&lt;create&gt;</span>
  radio button and configure your branch details as follow:</p>

  <ul>
    <li>Enter <tt>fcm:tutorial</tt> for the URL of the tutorial
    repository.</li>

    <li>Enter the short branch name. This must contain only alpha-numeric
    characters and/or underscores, e.g. <tt>tutorial</tt>.</li>

    <li>Enter <tt>1</tt> for the source revision. The trunk was last changed at
    revision 2. To facilitate the generation of conflicts when you merge with
    it, you will branch from revision 1 of the trunk.</li>

    <li>Set the branch type. In this case click on <span class=
    "mono">&lt;test::user&gt;</span>. This will ensure the branch you create is
    a user test branch.</li>

    <li>Leave the source type as <span class="mono">&lt;trunk&gt;</span> and
    the prefix option as <span class="mono">&lt;normal&gt;</span>.</li>

    <li>Enter the related Trac ticket number for the ticket you created
    earlier.</li>

    <li>As this is probably the first time you access the tutorial repository,
    you should also enter <tt>--password ""</tt> (i.e. <tt>--password</tt>
    followed by a pair of quotes) in the "Other Options" entry box.</li>
  </ul>

  <p>Click on <span class="mono">&lt;Run&gt;</span> when you are ready.</p>

  <p class="image"><img src="create_branch.png" border="0" alt=
  "create my branch"></p>

  <p>You will be prompted to edit the message log file. A standard template is
  automatically supplied for the commit. However, if you want to add extra
  comment for the branch, please do so <strong>above</strong> the line that
  says "<tt>--This line will be ignored and those below will be inserted
  automatically--</tt>". When you are ready, save your change and exit the
  editor. Answer <span class="mono">&lt;Yes&gt;</span> when you are prompted to
  go ahead and create the branch.</p>

  <p>Note: If you are on the command line, the Subversion command will prompt
  you for a password the first time you access a repository. The password will
  normally be cached by the client, and you will not have to specify a password
  on subsequent access. If you are using the GUI, please refer to the section on
  <a href="code_management.html#svn_gui_commands">GUI Commands</a> in the next
  chapter for further information.</p>

  <p>When creating branches for the first time, you will notice that FCM will
  create and commit any missing sub-directories it needs to set up your branch
  inside the repository, before creating your branch and commiting it.</p>

  <p>Take a note of the revision number the branch was created at, and its
  branch name. (The revision number is the number following the last output
  that says "Committed revision". In the example above, the branch created at
  <tt>[5]</tt> is called <tt>branches/test/frsn/r1_tutorial</tt>, which is a
  branch of the <tt>tutorial</tt> project in the
  <tt>svn://fcm1/tutorial_svn</tt> repository.)</p>

  <h4>Update your ticket with a link to your branch</h4>

  <p>If you wish, you can update your ticket with details of the branch. Note
  that this step is entirely optional. It is useful for developments which will
  take a long time to complete. For short lived branches, this step is probably
  unnecessary.</p>

  <p>In the ticket you have created, refer to the revision number in the
  <em>Add/Change</em> box, for example:</p>
  <pre>
Created the branch [source:tutorial/branches/test/frsn/r1_tutorial@5] at [5].
</pre>

  <p>Note:</p>

  <ul>
    <li><tt>[source:tutorial/branches/test/frsn/r1_tutorial@5]</tt> is a Trac
    wiki link. In this syntax, you do not have to put in the root URL, (e.g.
    <tt>svn://fcm1/tutorial_svn/</tt>), but you should specify your branch
    using the project name (<tt>tutorial</tt>), the branch name
    (<tt>branches/test/frsn/r1_tutorial</tt>), and a revision number. Trac will
    translate this into a link to that branch.</li>

    <li>Trac will translate the syntax <tt>[&lt;number&gt;]</tt> into a link to
    the numbered changeset.</li>
  </ul>

  <p>Click on &lt;Preview&gt; and check that the links work correctly, and on
  <span class="mono">&lt;Submit changes&gt;</span> when you are ready.</p>

  <h3><a name="tutorial_checkout">Checkout a working copy</a></h3>

  <p><em>A Subversion working copy is an ordinary directory tree on your local
  system, containing a collection of files. It is your private working area in
  which you can make changes before publishing them back to the repository. You
  create a working copy by using the checkout command on some subtree of the
  repository.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>checkout a Subversion working copy.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; <a href=
    "code_management.html#svn_concepts">Basic Concepts</a></li>

    <li>FCM Command Reference &gt; <a href=
    "command_ref.html#fcm_svn_other">Other Subversion Commands</a></li>
  </ul>

  <h4>Checkout a Subversion working copy</h4>

  <p><em>Command line</em>: issue the <tt>fcm checkout</tt> (or simply
  <tt>fcm co</tt>) command. E.g.:</p>
  <pre>
(SHELL PROMPT)$ fcm co fcm:tutorial_br/test/frsn/r1_tutorial
</pre>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Checkout&gt;</span> in
  the GUI, and enter the URL of your branch, e.g.
  <tt>fcm:tutorial_br/test/frsn/r1_tutorial</tt>. Note:</p>

  <ul>
    <li>In the example, we have replaced the leading part of the Subversion URL
    <tt>svn://fcm1/tutorial_svn/tutorial/branches</tt> with the FCM URL
    keyword <tt>fcm:tutorial_br</tt>. This is mainly to save you from having to
    type in the full URL. However, you may find it easier to copy-and-paste the
    full Subversion URL from the output generated when you created the
    branch.</li>

    <li>If you do not specify a local directory PATH in the <tt>checkout</tt>
    command, it will create a working copy in your current working directory,
    using the basename of the URL you are checking out. For example, when you
    checkout the branch you have just created, the command should create the
    working copy in <tt>$PWD/r1_tutorial</tt>. Make a note of the location of
    your working copy, in case you forget where you have put it.</li>

    <li>If you do not specify a revision to checkout, it will checkout the
    HEAD, i.e. the latest, revision.</li>
  </ul>

  <p>Click on <span class="mono">&lt;Run&gt;</span> - a working copy pointing
  to your branch will be created. The GUI will automatically change directory
  to the top of your new working copy.</p>

  <table class="pad" summary="branch checkout example" border="1" width="100%">
    <tr>
      <th>Example output, checking out the branch</th>
    </tr>

    <tr>
      <td>
        <pre>
=&gt; svn co --revision HEAD svn://fcm1/tutorial_svn/tutorial/branches/test/frsn/r1_tutorial
A    r1_tutorial/cfg
A    r1_tutorial/cfg/ext.cfg
A    r1_tutorial/doc
A    r1_tutorial/doc/hello.html
A    r1_tutorial/src
A    r1_tutorial/src/subroutine
A    r1_tutorial/src/subroutine/hello_c.c
A    r1_tutorial/src/subroutine/hello_sub.f90
A    r1_tutorial/src/module
A    r1_tutorial/src/module/hello_constants.f90
A    r1_tutorial/src/program
A    r1_tutorial/src/program/hello.f90
Checked out revision 5.
</pre>
      </td>
    </tr>
  </table>

  <h3><a name="tutorial_change">Make changes to files in your working
  copy</a></h3>

  <p><em>Subversion provides various useful commands to help you monitor your
  working copy. The most useful ones are "diff", "revert" and "status". You
  will also find "add", "copy", "delete" and "move" useful when you are
  rearranging your files and directories.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>make and revert changes,</li>

    <li>add and remove files,</li>

    <li>inspect the status of a working copy, and</li>

    <li>display changes in a working copy.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; <a href=
    "code_management.html#svn_basic">Basic Command Line Usage</a></li>

    <li>FCM Command Reference &gt; <a href="command_ref.html#fcm_svn_add">fcm
    add</a>, <a href="command_ref.html#fcm_svn_diff">fcm diff</a>, <a href=
    "command_ref.html#fcm_svn_delete">fcm delete</a>, <a href=
    "command_ref.html#fcm_svn_other">Other Subversion Commands</a></li>
  </ul>

  <h4>Make and revert changes</h4>

  <p>For the later part of the tutorial to work, you must make the following
  modification:</p>

  <ul>
    <li>Change to the "<tt>src/module/</tt>" sub-directory in your working
    copy.</li>

    <li>Edit <b>hello_constants.f90</b>, using your favourite editor, and
    change: <em>"Hello World!"</em> to <em>"Hello Earthlings!"</em>. Save your
    change and exit the editor.</li>
  </ul>

  <p>Try the following so that you know how to restore a changed file:</p>

  <ul>
    <li>Change to the "<tt>src/subroutine/</tt>" directory of your working
    copy.</li>

    <li>Make a change in file <b>hello_c.c</b>, using your favourite
    editor.</li>

    <li>To see that you have <u>M</u>odified this file: <em>command line</em>:
    issue the "<tt>fcm status</tt>"command; <em>FCM GUI</em>: click on <span
    class="mono">&lt;Status&gt;</span> and then on <span
    class="mono">&lt;Run&gt;</span></li>

    <li>Run the <em>revert</em> command to get the file back unmodified:
      <pre>
(SHELL PROMPT)$ fcm revert hello_c.c
</pre>
    </li>
  </ul>

  <h4>Add and remove files</h4>

  <p>You may also want to try the following FCM commands in your <tt>doc/</tt>
  sub-directory. You can safely make changes here since they will not interfere
  with your code changes.</p>

  <ul>
    <li>change to the "doc/" directory of your working copy.</li>

    <li>Echo some text into a new file and then run the <em>add</em> command,
    which lets the repository know you're adding a new file at the next commit.
    For example:
      <pre>
(SHELL PROMPT)$ echo 'Some text' &gt;new_file.txt
(SHELL PROMPT)$ fcm add new_file.txt
</pre>
    </li>

    <li>Make a copy of <em>hello.html</em> and remove the original, using the
    <em>copy</em> and <em>delete</em> commands. For example:
      <pre>
(SHELL PROMPT)$ fcm copy hello.html add.html
(SHELL PROMPT)$ fcm delete hello.html
</pre>
    </li>

    <li>You can use a simple <em>move</em> sub-command for the above
    <em>copy</em> and <em>delete</em>.</li>
  </ul>

  <h4>Inspect the status of a working copy</h4>

  <p><em>Command line</em>: issue the <tt>fcm status</tt> (or simply <tt>fcm
  st</tt>) command.</p>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Status&gt;</span> and
  then on <span class="mono">&lt;Run&gt;</span> to see what has changed:</p>

  <table class="pad" summary="status example 1" border="1" width="100%">
    <tr>
      <th>Example output, status in a working copy</th>
    </tr>

    <tr>
      <td>
        <pre>
=&gt; svn status
D      doc/hello.html
A      doc/new_file.txt
A  +   doc/add.html
M      src/module/hello_constants.f90
</pre>
      </td>
    </tr>
  </table>

  <p>This confirms the actions you have taken. You have <u>D</u>eleted a file,
  <u>A</u>dded a new file, <u>A</u>dded a file with history (<tt>+</tt>) and
  <u>M</u>odified another. It also confirms the action of the <em>revert</em>
  command.</p>

  <h4>Display changes in a working copy</h4>

  <p>You can view the changes you have made to your working copy.</p>

  <p><em>Command line</em>: issue the <tt>fcm diff --graphical</tt>
  (or simply <tt>fcm di -g</tt>) command.</p>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Diff&gt;</span> and then
  on <span class= "mono">&lt;Run&gt;</span>.</p>

  <p>A listing of the files you have changed will be displayed, and a graphical
  diff tool will open up for each modified file.</p>

  <h3><a name="tutorial_commit">Commit your changes to the repository</a></h3>

  <p><em>The change in your working copy remains local until you commit it to
  the repository where it becomes permanent. If you are planning to make a
  large number of changes, you are encouraged to commit regularly to your
  branch at appropriate intervals.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>commit your changes, and</li>

    <li>inspect your changes using Trac.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; <a href=
    "code_management.html#svn_basic">Basic Command Line Usage</a></li>

    <li>FCM Command Reference &gt; <a href="command_ref.html#fcm_svn_ci">fcm
    commit</a></li>
  </ul>

  <h4>Commit changes</h4>

  <p><em>Command line</em>: issue the <tt>fcm commit</tt> (or simply <tt>fcm
  ci</tt>) command.</p>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Commit&gt;</span> and
  then on <span class="mono">&lt;Run&gt;</span>.</p>

  <p>A text editor will appear to allow you to edit the commit message. You
  must add a commit message to describe your change <strong>above</strong> the
  line that says "<tt>--This line, and those below, will be ignored--</tt>". (A
  suggestion is given as the highlighted text in the example below.) Your
  commit will fail if you do not enter a commit message.</p>

  <p>Save your change and exit the editor. Answer <span class=
  "mono">&lt;Yes&gt;</span> when you are prompted to confirm the commit. For
  example:</p>

  <table class="pad" summary="status example 1" border="1" width="100%">
    <tr>
      <th>Example output, commit my changes to the repository</th>
    </tr>

    <tr>
      <td>
        <pre>
Starting nedit to create commit message ...
Commit message is as follows:
------------------------------------------------------------------------
<font color="purple">In my tutorial branch, for #2:
  1. Moved hello.html to add.html, and created a new document '''new_file.txt'''
  2. Changed greeting in hello_constants.f90 to ''Hello Earthlings!''</font>
--This line, and those below, will be ignored--
[Project: tutorial]
[Branch : branches/test/frsn/r1_tutorial]
[Sub-dir: &lt;top&gt;]

D      doc/hello.html
A      doc/new_file.txt
A  +   doc/add.html
M      src/module/hello_constants.f90
------------------------------------------------------------------------
Adding         doc/add.html
Deleting       doc/hello.html
Adding         doc/new_file.txt
Sending        src/module/hello_constants.f90
Transmitting file data ..
Committed revision 6.
Performing update to make sure your working copy is at this new revision ...
At revision 6.
</pre>
      </td>
    </tr>
  </table>

  <h4>Inspect changes using Trac</h4>

  <p>Click on <span class="mono">&lt;Timeline&gt;</span> in Trac. Drill down to
  your changeset and see how it appears. (Alternatively, if you enter
  "<tt>[&lt;number&gt;]</tt>" into the search box at the top right, it will
  take you directly to the numbered changeset.) For example:</p>

  <p class="image"><img src="changeset.png" border="0" alt=
  "commit my changes"></p>

  <p>Note:</p>

  <ul>
    <li>Wiki Formatting, used in the commit message, has customised the
    changeset message.</li>

    <li>All your changes are listed.</li>
  </ul>

  <h3><a name="tutorial_extract">Test your changes</a></h3>

  <p><em>You should test the changes in your branch before asking a colleague
  to review them. FCM features a build system that allows you to build your
  code easily. As your changes may be located in a repository branch and/or a
  working copy, you should work with the extract system to extract the correct
  code to build. The extract system allows you to extract code from the
  repository, combining changes in different branches and your working copy,
  before generating a configuration file and a suitable source tree for feeding
  into the build system.</em></p>

  <p><em>In this sub-section of the tutorial, you will be shown how to extract
  and build the code from your branch. (There are some <a href=
  "#tutorial_extra-extract">extra activities on the extract and build
  systems</a> in a later sub-section of the tutorial should you want to explore
  the extract and build systems in more depth.) In the example here, the
  extract and build systems will be shown to you in their simplest form. In
  real life, the managers of the systems you are developing code for will
  provide you with more information on how to extract and build their
  systems.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>set up a simple extract configuration file, and</li>

    <li>perform simple extracts and builds.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li><a href="extract.html">The Extract System</a></li>

    <li><a href="build.html">The Build System</a></li>
  </ul>

  <p>You should extract and build your code in a different directory to your
  working copy. For example, you may want to create a sub-directory
  <tt>tutorial/build/</tt> in <tt>$HOME</tt> and change to it:</p>
  <pre>
(SHELL PROMPT)$ mkdir -p $HOME/tutorial/build
(SHELL PROMPT)$ cd $HOME/tutorial/build
</pre>

  <h4>Set up an extract configuration file</h4>

  <p>To set up an extract configuration file from scratch, launch your
  favourite editor and add the following lines:</p>

  <table class="pad" summary="extract config example, branch" border="1" width=
  "100%">
    <tr>
      <th>Example extract configuration, extract from a branch</th>
    </tr>

    <tr>
      <td>
        <pre>
# Extract configuration, format version 1.0
cfg::type              ext
cfg::version           1.0

# Extract destination root directory
dest::rootdir          $HOME/tutorial/build

# Location of the source in the "r1_tutorial" branch
repos::tutorial::base  fcm:tutorial_br/test/$LOGNAME/r1_tutorial

# Extract all sub-directories under the above URL
expsrc::tutorial::base src

# Fortran compiler, C compiler and linker commands respectively
# You may need to redefine these for different platforms
bld::tool::fc          ifc
bld::tool::cc          gcc
bld::tool::ld          ifc
</pre>
      </td>
    </tr>
  </table>

  <p>Note:</p>

  <ul>
    <li>The "<tt>dest::rootdir</tt>" declaration is set to
    <tt>$HOME/tutorial/build</tt>. If you decide to extract to a different
    directory, you should modify its value.</li>

    <li>Similarly, the "<tt>repos::tutorial::base</tt>" declaration is set to
    <tt>fcm:tutorial_br/test/$LOGNAME/r1_tutorial</tt>. If you have named your
    branch differently, you should modify its value.</li>
  </ul>

  <p>Save the file as "<tt>ext.cfg</tt>" and exit your editor.</p>

  <h4>Perform an extract and a build</h4>

  <p>Issue the command "<tt>fcm extract</tt>" and you should get an output
  similar to the following:</p>

  <table class="pad" summary="extract example, branch" border="1" width="100%">
    <tr>
      <th>Example output, extract from a branch</th>
    </tr>

    <tr>
      <td>
        <pre>
(SHELL PROMPT)$ fcm extract
Extraction started on Thu Oct 27 13:54:06 2005.
Config file (ext): /net/home/h01/frsn/tutorial/build/ext.cfg
-&gt;Extract: start
Number of directories created    : 4
Number of updated files          : 4
-&gt;Extract: 1 second
-&gt;TOTAL  : 1 second
Extraction finished on Thu Oct 27 13:54:07 2005.
</pre>
      </td>
    </tr>
  </table>

  <p>If nothing goes wrong, you should end up with the sub-direcories
  "<tt>src/</tt>" and "<tt>cfg/</tt>" in your working directory. The
  "<tt>src/</tt>" contains a source tree to be built, and "<tt>cfg/</tt>" should
  contain two configuration files: "<tt>ext.cfg</tt>" and "<tt>bld.cfg</tt>".
  The former is an expanded version of your extract configuration file and the
  latter is a build configuration file. You can now build your code by running
  the "<tt>fcm build</tt>" command:</p>

  <table class="pad" summary="build example, branch" border="1" width="100%">
    <tr>
      <th>Example output, build</th>
    </tr>

    <tr>
      <td>
        <pre>
(SHELL PROMPT)$ fcm build 2&gt;err
Build command started on Fri Oct 14 09:15:38 2005.
-&gt;gt;Setup              : start
Config file (bld): /net/home/h01/frsn/tutorial/build/cfg/bld.cfg
-&gt;Setup              : 0 second
-&gt;Pre-process        : start
-&gt;Pre-process        : 0 second
-&gt;Scan dependency    : start
Scanned files in 3 package(s) for dependency
Updated make rules for 3 package(s).
Updated Makefile: /net/home/h01/frsn/tutorial/build/bld/Makefile
-&gt;Scan dependency    : 1 second
-&gt;Generate interface : start
Number of generated interfaces: 1
-&gt;Generate interface : 0 second
-&gt;Make               : start
ifc -o hello_constants.o -I/home/h01/frsn/tutorial/build/inc -c
  /home/h01/frsn/tutorial/build/src/tutorial/src/module/hello_constants.f90
ifc -o hello.o -I/home/h01/frsn/tutorial/build/inc -c
  /home/h01/frsn/tutorial/build/src/tutorial/src/program/hello.f90
ifc -o hello_sub.o -I/home/h01/frsn/tutorial/build/inc -c
  /home/h01/frsn/tutorial/build/src/tutorial/src/subroutine/hello_sub.f90
gcc -o hello_c.o -I/home/h01/frsn/tutorial/build/inc -c
  /home/h01/frsn/tutorial/build/src/tutorial/src/subroutine/hello_c.c
ifc -o hello.exe /home/h01/frsn/tutorial/build/obj/hello.o
  -L/home/h01/frsn/tutorial/build/lib -l__fcm__hello
-&gt;Make               : 3 seconds
-&gt;TOTAL              : 4 second
Build command finished on Fri Oct 14 09:15:42 2005.
</pre>
      </td>
    </tr>
  </table>

  <p>The executable you have built is "<tt>hello.exe</tt>", which is located in
  the "<tt>bin/</tt>" sub-directory. You can test your executable by running
  it. You should get an output similar to the following:</p>

  <table class="pad" summary="build example run, working copy" border="1"
  width="100%">
    <tr>
      <th>Example output, running the build</th>
    </tr>

    <tr>
      <td>
        <pre>
(SHELL PROMPT)$ bin/hello.exe 
Hello: Hello Earthlings!
Hello_Sub: Hello Earthlings!
Hello_Sub: maximum integer: 2147483647
Hello_C: Hello World!
</pre>
      </td>
    </tr>
  </table>

  <h3><a name="tutorial_merge">Merge changes from the trunk and resolve
  conflicts</a></h3>

  <p><em>Your branch is normally isolated from other development lines in your
  project. However, at some point during your development, you may need to merge
  your changes with those of your colleagues. In some cases, it is desirable to
  merge changes regularly from the trunk to keep your branch up to date with the
  latest development. The automatic merge provided by FCM allows you to do this
  easily.</em></p>

  <p><em>A merge results in a conflict if changes being applied to a file
  overlap. FCM uses a graphical merge tool to help you resolve conflicts in text
  files.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>merge changes from the trunk into your working copy, and</li>

    <li>resolve conflicts in your working copy.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; Basic Command Line Usage &gt; <a href=
    "code_management.html#svn_basic_conflicts">Resolving Conflicts</a></li>

    <li>Code Management System &gt; <a href=
    "code_management.html#svn_branching">Branching &amp; Merging</a></li>

    <li>Code Management Working Practices &gt; <a href=
    "working_practices.html#branching">Branching &amp; Merging</a></li>

    <li>FCM Command Reference &gt; <a href="command_ref.html#fcm_svn_cf">fcm
    conflicts</a></li>

    <li>FCM Command Reference &gt; <a href="command_ref.html#fcm_svn_merge">fcm
    merge</a></li>
  </ul>

  <h4>Merge changes from the trunk into a working copy</h4>

  <p>Perform the merge in your working copy.</p>

  <p><em>Command line</em>: issue the <tt>fcm merge</tt> command. E.g.</p>
  <pre>
(SHELL PROMPT)$ fcm merge trunk
</pre>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Merge&gt;</span>. Enter
  "<tt>trunk</tt>" into the Source entry box and click on <span class=
  "mono">&lt;Run&gt;</span> to proceed.</p>

  <p>If there is more than one revision of the source that you can merge with,
  you will be prompted for the revision number you wish to merge from. You will
  not be prompted in this case, because there is only one revision of the
  source that you can merge with.</p>

  <p>Answer <span class="mono">&lt;Yes&gt;</span> when you are prompted to go
  ahead with the merge.</p>

  <table class="pad" summary="merge from trunk example" border="1" width=
  "100%">
    <tr>
      <th>Example output, merging changes from the trunk</th>
    </tr>

    <tr>
      <td>
        <pre>
Available Merges From /tutorial/trunk: 2
About to merge in changes from tutorial/trunk@2 compared with tutorial/trunk@1
This merge will result in the following changes:
------------------------------------------------------------------------
U    src/subroutine/hello_c.c
C    src/module/hello_constants.f90
------------------------------------------------------------------------
Performing merge ...
U    src/subroutine/hello_c.c
C    src/module/hello_constants.f90
</pre>
      </td>
    </tr>
  </table>

  <h4>Resolve conflicts in a working copy</h4>

  <p>The "C" status indicates that the file you changed is now in conflict. If
  you run <tt>status</tt>, you will see extra files created by the merge, which
  enable you to resolve the conflict using the 3-way difference tool
  <em>xxdiff</em>:</p>

  <table class="pad" summary="conflict status example" border="1" width="100%">
    <tr>
      <th>Example output, status in conflict</th>
    </tr>

    <tr>
      <td>
        <pre>
=&gt; svn status
M      src/subroutine/hello_c.c
?      src/module/hello_constants.f90.merge-left.r1
?      src/module/hello_constants.f90.merge-right.r2
?      src/module/hello_constants.f90.working
C      src/module/hello_constants.f90
</pre>
      </td>
    </tr>
  </table>

  <p>You will now have to resolve the conflicts.</p>

  <p><em>Command line</em>: issue the <tt>fcm conflicts</tt> (or simply <tt>fcm
  cf</tt>) command.</p>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Conflicts&gt;</span> and
  then on <span class="mono">&lt;Run&gt;</span>.</p>

  <p><em>xxdiff</em> comes into play:</p>

  <p class="image"><img src="xxdiff_tutorial.png" border="0" alt=
  "3-way diff"></p>

  <p>See the sub-section on <a href=
  "code_management.html#svn_basic_conflicts">resolving conflicts</a>, or the
  <em>xxdiff User's Manual (click on <span class=
  "mono">&lt;Help&gt;</span>)</em> to guide you through this process. (If you
  do not want to learn how to use <em>xxdiff</em> now, you can just select
  <em>Exit with ACCEPT</em> from the <em>File</em> menu. This saves the file
  you are merging in as the result of the merge, i.e. you have
  <em>accepted</em> all the changes).</p>

  <p>On resolving the conflict, you will be asked to run "<tt>svn
  resolved</tt>". Answer <span class="mono">&lt;Yes&gt;</span>.</p>

  <p>If you now run <tt>status</tt>, you will notice that these extra conflict
  files have disappeared.</p>

  <table class="pad" summary="resolve conflicts example" border="1" width=
  "100%">
    <tr>
      <th>Example output, resolving conflicts</th>
    </tr>

    <tr>
      <td>
        <pre>
Conflicts in file: src/module/hello_constants.f90
All merge conflicts resolved
Resolved conflicted state of 'hello_constants.f90'
=&gt; svn status
M      src/subroutine/hello_c.c
M      src/module/hello_constants.f90
</pre>
      </td>
    </tr>
  </table>

  <p>It is important to remember that the <tt>merge</tt> command only applies
  changes to your working copy. Therefore, you must now commit the change in
  order for it to become permanent in the repository. Similar to other changes,
  it is a good practice to use <tt>diff</tt> to inspect the changes before
  committing.</p>

  <p>When you run <tt>commit</tt>, you will be prompted to edit the commit log
  as usual. However, you may notice that a standard template is already
  provided for you by the <tt>merge</tt> command. In most cases, the standard
  message should be sufficient. However, if you want to add extra comment to
  the commit, please do so <strong>above</strong> the line that says
  "<tt>--This line will be ignored and those below will be inserted
  automatically--</tt>". This is useful, for example, if there were significant
  issues addressed in the merge.</p>

  <h3><a name="tutorial_review-ticket">Review changes</a></h3>

  <p><em>For the purpose of this tutorial, we assume that your changes are
  complete, have been tested and committed to the repository, and are now ready
  for review. You should assign the ticket to the reviewer and inform him/her
  where to find the changes you wish him/her to review. The reviewer will
  record any issues in the ticket, perhaps linking to other documents as
  required. Once completed, he/she will record the outcome in the ticket and
  assign it back to the you.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>display changes in a branch, and</li>

    <li>re-assign a ticket.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; Branching &amp; Merging &gt; <a href=
    "code_management.html#svn_branching_info">Getting Information About
    Branches</a></li>

    <li>Code Management System &gt; <a href="code_management.html#trac">Using
    Trac</a></li>

    <li>Code Management Working Practices &gt; <a href=
    "working_practices.html#tickets">Using Tickets</a></li>

    <li>FCM Command Reference &gt; <a href="command_ref.html#fcm_svn_diff">fcm
    diff</a></li>
  </ul>

  <h4>Display changes in a branch</h4>

  <p>Before you ask someone to review your code, it is often a good idea to have
  a look at the changes one more time. To view the changes in a branch, you can
  look at all the changes relative to its base.</p>

  <p><em>Command line</em>: issue the <tt>fcm diff --branch --graphical</tt> (or
  simply <tt>fcm di -b -g</tt>) command.</p>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Diff&gt;</span>. Check the
  box <span class="mono">&lt;Show differences relative to the base of the
  branch&gt;</span>, and click on <span class="mono">&lt;Run&gt;</span>.</p>

  <p>You should be presented with the differences between the branch and the
  trunk (since the last merge).</p>
  
  <p>Note: you can also use the <tt>--trac</tt> (<tt>-t</tt>) option instead of
  <tt>--graphical</tt> (<tt>-g</tt>) to view the changes in a branch using Trac
  rather than using a graphical diff tool. Take note of the Trac URL for
  displaying the differences. The part that begins with <tt>"diff:"</tt> is of
  particular interest to you, as it is a Trac link that can be inserted into a
  Trac wiki/ticket. In the above example, the Trac link would look like:
  <tt>diff:/tutorial/trunk@2///tutorial/branches/test/frsn/r1_tutorial@7</tt>.

  <h4>Re-assign a ticket to a reviewer</h4>

  <p>Back in your ticket, add an appropriate comment showing where to find your
  changes, in the <em>Add/Change</em> box. Include a link to your branch and a
  diff link (see above) in the comment. For example:</p>

  <table summary="review ticket example" border="1">
    <tr>
      <td>
        <pre>
The [log:tutorial/branches/test/frsn/r1_tutorial@5:7] branch proposes changes to
the greeting in hello_constants.f90. It also contains some new documents. See
[diff:/tutorial/trunk@2///tutorial/branches/test/frsn/r1_tutorial@7] for the
changes.

Fred, could you review the change, please?
</pre>
      </td>
    </tr>
  </table>

  <p>Note: the syntax <tt>[log:tutorial/branches/test/frsn/r1_tutorial@5:7]</tt>
  will be translated by Trac into a link to the revision log browser to display
  the log between revision 5 and 7 of the
  <tt>branches/test/frsn/r1_tutorial</tt> branch in the <tt>tutorial</tt>
  project; and the syntax
  <tt>[diff:/tutorial/trunk@2///tutorial/branches/test/frsn/r1_tutorial@7]</tt>
  will be translated into a link to display the differences between the trunk at
  revision 2 and the branch at revision 7. Click on &lt;Preview&gt; and check
  that the links work correctly.</p>

  <p>To re-assign a ticket to your reviewer, click on the <span class=
  "mono">&lt;reassign to&gt;</span> button in the <em>Action</em> box section
  and enter the reviewer's User ID.</p>

  <p>When you are ready, click on <span class="mono">&lt;Submit
  changes&gt;</span>.</p>

  <h4>Reassign the ticket back to the author</h4>

  <p>For the purpose of this tutorial, you will act as the reviewer of the
  changes you have made. Following the review, you should record its outcome and
  re-assign the ticket back to the author. Enter the comment "<tt>No issues were
  found during the review</tt>". Click on the <span class="mono">&lt;reassign
  to&gt;</span> button in the <em>Action</em> box section, and enter your guest
  account name. Click on <span class="mono">&lt;Submit changes&gt;</span> when
  you are ready.</p>

  <h3><a name="tutorial_merge-back">Commit to the trunk</a></h3>

  <p><em>Your changes in the branch have been tested and reviewed. It is now
  time to merge and commit it to the trunk. Once you have committed your
  change, you will close your ticket to complete the work cycle.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>use the <tt>switch</tt> command,</li>

    <li><tt>merge</tt> and <tt>commit</tt> your changes into the trunk,
    and</li>

    <li>close a ticket</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; <a href=
    "code_management.html#svn_branching">Branching &amp; Merging</a></li>

    <li>Code Management Working Practices &gt; <a href=
    "working_practices.html#branching">Branching &amp; Merging</a></li>

    <li>FCM Command Reference &gt; <a href=
    "command_ref.html#fcm_svn_switch">fcm switch</a></li>
  </ul>

  <h4>Switch a working copy to point to the trunk</h4>

  <p><em>Command line</em>: issue the <tt>fcm switch</tt> (or simply <tt>fcm
  sw</tt>) command. E.g.:</p>
  <pre>
(SHELL PROMPT)$ fcm sw trunk
</pre>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Switch&gt;</span>. Enter
  "<tt>trunk</tt>" as the URL and then click on <span class=
  "mono">&lt;Run&gt;</span>.</p>

  <p>To check that your working copy is pointing to the trunk, you should:
  <em>command line</em>: issue the <tt>fcm info</tt> command; <em>FCM GUI</em>:
  inspect the "corresponding URL" of your working copy.</p>

  <h4>Merge and commit your changes into the trunk</h4>

  <p><em>Command line</em>: issue the <tt>fcm merge</tt> command.  E.g.</p>
  <pre>
(SHELL PROMPT)$ fcm merge branches/test/frsn/r1_tutorial
</pre>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Merge&gt;</span>. Enter
  the name of your branch in the Source entry box, (e.g.
  "<tt>branches/test/frsn/r1_tutorial</tt>"). Click on <span class=
  "mono">&lt;Run&gt;</span> to proceed.</p>

  <table class="pad" summary="merge back to trunk example" border="1" width=
  "100%">
    <tr>
      <th>Example output, merging changes back to the trunk</th>
    </tr>

    <tr>
      <td>
        <pre>
Available Merges From /tutorial/branches/test/frsn/r1_tutorial: 7 6
About to merge in changes from /tutorial/branches/test/frsn/r1_tutorial@7
  compared with /tutorial/trunk@2
This merge will result in the following changes:
------------------------------------------------------------------------
D    doc/hello.html
A    doc/new_file.txt
U    src/module/hello_constants.f90
A    add.html
------------------------------------------------------------------------
Performing merge ...
D    doc/hello.html
A    doc/new_file.txt
U    src/module/hello_constants.f90
A    add.html
</pre>
      </td>
    </tr>
  </table>

  <p>Since there is more than one revision available for merging, you will be
  prompted for the revision number you wish to merge from. The default is the
  last changed revision of your branch. which is the revision you want to merge
  with, so you should just proceed with the default.</p>

  <p>Answer <span class="mono">&lt;Yes&gt;</span> when you are prompted to go
  ahead with the merge.</p>

  <p>Since we merged in the latest changes from the trunk into the branch,
  there should be no conflicts from this merge.</p>

  <p>Once again, please remember that the merge command only changes your
  working copy. You need to commit the change before it becomes permanent in
  the repository. Before you commit to the trunk, however, it is often sensible
  to have a last look at what you are going to change using the <tt>diff</tt>
  command.</p>

  <p>Note: We have set up the repository to prevent any commits to the trunk to
  preserve the tutorial for other users, so your commit to the trunk will fail.
  However, you should try doing it any way to complete the exercise.</p>

  <p><em>Command line</em>: issue the <tt>fcm commit</tt> (or simply <tt>fcm
  ci</tt>) command.</p>

  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Commit&gt;</span> and
  then on <span class="mono">&lt;Run&gt;</span>.</p>

  <p>A text editor will appear to allow you to edit the commit message. You
  must add a commit message to describe your change <strong>above</strong> the
  line that says "<tt>--This line will be ignored and those below will be
  inserted automatically--</tt>". Since you are going to commit changes to the
  trunk, you should provide a useful message, including a link to your ticket.
  For example:</p>

  <table summary="" border="1">
    <tr>
      <td>
        <pre>
For #2: complete the tutorial:
  1. Changed greeting in hello_constants.f90 to "Hello Earthlings!"
  2. Moved hello.html to add.html, and created a new document ''new_file.txt''
</pre>
      </td>
    </tr>
  </table>

  <p>When you are ready, save your change and exit the editor.</p>

  <p>As we have said before, the command will fail when you try to proceed with
  the commit.</p>

  <h4>Close your ticket</h4>

  <p>As you have completed your work, you should now update and close your
  ticket. In real life, you will typically include a closing comment with an
  appropriate Trac wiki link to the changeset in the trunk that fixes the
  ticket.</p>

  <p>Since you cannot commit to the trunk in the tutorial, you can include a
  Trac link to the latest changeset in your branch. For example, you can put
  "<tt>Fixed at changeset [7].</tt>" in the comment. To mark the ticket as
  "fixed", move down to the <em>Action</em> box section, click on <span class=
  "mono">&lt;resolve as&gt;</span> and choose <em>fixed</em>. Use <span class=
  "mono">&lt;Preview&gt;</span> to ensure that your links work correctly. When
  you are happy, click on <span class="mono">&lt;Submit changes&gt;</span>.</p>

  <h3><a name="tutorial_extra-extract">Extra activities on the extract and
  build systems</a></h3>

  <p><em>The extract and build systems are very flexible. If you have time, you
  may want to explore their uses in more depth.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>extract from a working copy,</li>

    <li>change a compiler flag, and</li>

    <li>extract from a particular branch and/or revision from the
    repository.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li><a href="extract.html">The Extract System</a></li>

    <li><a href="build.html">The Build System</a></li>
  </ul>

  <h4>Extract from a working copy</h4>

  <p>Modify the source files in your working copy and commit the changes back
  to your branch in the repository. Re-run <tt>"fcm extract"</tt> and <tt>"fcm
  build"</tt> and see the results of the changes. [The file(s) you have changed
  should be updated by "extract", and "build" should only re-build the
  necessary code.]</p>

  <p>In fact, you can test changes in your working copy directly using a
  similar "extract" and "build" mechanism. In such case, you need to modify the
  REPOS declaration. For example:</p>
  <pre>
repos::tutorial::base  $HOME/fcm/work/r1_tutorial
</pre>

  <h4>Change a compiler flag</h4>

  <p>Modify the compiler flags, and re-run <tt>"fcm extract"</tt> and <tt>"fcm
  build"</tt> and see the results of the changes. To modify the compiler flags,
  edit your extract configuration file, and add the declarations for changing
  compiler flags. For example:</p>
  <pre>
# Declare extra options for Fortran compiler
bld::tool::fflags  -i8 -O3
</pre>

  <p>For further information on how to set your compiler flags, please refer to
  the sub-section on <a href="build.html#basic_flags">Setting the compiler
  flags</a>.</p>

  <h4>Extract from a particular branch and/or revision</h4>

  <p>Try extracting from an earlier revision of your branch. Suppose the HEAD
  of your branch is revision 7, and the branch was created at an earlier
  revision. You can extract your branch at, say, revision 5 by adding a
  declaration in your extract configuration file:</p>
  <pre>
version::tutorial::base  5
</pre>

  <p>You can also try extracting from the trunk. In such case, you will need to
  modify the REPOS declaration in your extract configuration file. For
  example:</p>
  <pre>
repos::tutorial::base  fcm:tutorial_tr/src

# Extract with and without the following line and note the difference!
version::tutorial::base  1
</pre>

  <h3><a name="tutorial_delete-branch">Delete your branch</a></h3>

  <p><em>You should remove your branch when it is no longer required. When you
  remove it, it becomes invisible from the HEAD revision, but will continue to
  exist in the repository, should you want to refer to it in the
  future.</em></p>

  <p>After completing this sub-section, you will learn how to:</p>

  <ul>
    <li>list branches owned by you, and</li>

    <li>delete a branch.</li>
  </ul>

  <p>Further reading:</p>

  <ul>
    <li>Code Management System &gt; Branching &amp; Merging &gt; <a href=
    "code_management.html#svn_branching_list">Listing Branches Created by You
    or Other Users</a></li>

    <li>Code Management System &gt; Branching &amp; Merging &gt; <a href=
    "code_management.html#svn_branching_delete">Deleting Branches</a></li>
  </ul>

  <h4>List branches owned by you</h4>

  <p>If you forget what your branch is called and/or what other branches you
  have created, you can get a listing of all the branches you have created in a
  project.</p>

  <p><em>Command line</em>: issue the <tt>fcm branch --list</tt> (or simply
  <tt>fcm br -l</tt>) command</p>
  
  <p><em>FCM GUI</em>: click on <span class= "mono">&lt;Branch&gt;</span>, and
  then on the <span class= "mono">&lt;list&gt;</span> radio button. Click on
  <span class= "mono">&lt;Run&gt;</span>.</p>

  <h4>Delete a branch</h4>

  <p>Switch your working copy to point back to your branch.</p>
  
  <p><em>Command line</em>: issue the <tt>fcm switch &lt;URL&gt;</tt> (or simply
  <tt>fcm sw &lt;URL&gt;</tt>) command.</p>
  
  <p><em>FCM GUI</em>: click on <span class="mono">&lt;Switch&gt;</span>. Enter
  the name of your branch as the URL and click on <span
  class="mono">&lt;Run&gt;</span> to proceed.</p>

  <p>You can continue your work in the branch if you wish, but once you have
  finished all the work, you should delete it. <em>Command line</em>: issue the
  <tt>fcm branch --delete</tt> (or simply <tt>fcm br -d</tt>) command. <em>FCM
  GUI</em>: click on <span class="mono">&lt;Branch&gt;</span> in the GUI. Check
  the <span class= "mono">&lt;delete&gt;</span> radio button, and click <span
  class= "mono">&lt;Run&gt;</span> to proceed.</p>

  <table class="pad" summary="branch delete example" border="1" width="100%">
    <tr>
      <th>Example output, deleting a branch</th>
    </tr>

    <tr>
      <td>
        <pre>
URL: svn://fcm1/tutorial_svn/tutorial/branches/test/frsn/r1_tutorial
Repository Root: svn://fcm1/tutorial_svn
Repository UUID: cb858ce8-0f05-0410-9e64-efa98b760b62
Revision: 7
Node Kind: directory
Last Changed Author:
Last Changed Rev: 7
Last Changed Date: 2005-11-09 09:11:57 +0000 (Wed, 09 Nov 2005)
--------------------------------------------------------------------------------
Branch Create Rev: 5
Branch Create Date: 2005-11-09 08:34:22 +0000 (Wed, 09 Nov 2005)
Branch Parent: svn://fcm1/tutorial_svn/tutorial/trunk@1
--------------------------------------------------------------------------------
Last Merge From Trunk: /tutorial/branches/test/frsn/r1_tutorial@7
                       /tutorial/trunk@2
Avail Merges Into Trunk: 7 6
Starting nedit to create commit message ...
Commit message is as follows:
------------------------------------------------------------------------
Deleted tutorial/branches/test/frsn/r1_tutorial.
--This line, and those below, will be ignored--
D    svn://fcm1/tutorial_svn/tutorial/branches/test/frsn/r1_tutorial
------------------------------------------------------------------------
Deleting branch
  svn://fcm1/tutorial_svn/tutorial/branches/test/frsn/r1_tutorial ...

Committed revision 8.
</pre>
      </td>
    </tr>
  </table>

  <p>You will be prompted to edit the commit message file. A standard template
  is automatically supplied for the commit. However, if you want to add extra
  comment for the branch, please do so <strong>above</strong> the line that
  says "<tt>--This line will be ignored and those below will be inserted
  automatically--</tt>". Save your change and exit the editor.</p>

  <p>Answer <span class="mono">&lt;Yes&gt;</span> when you are prompted to go
  ahead and delete this branch.</p>

  <p>Your working copy is now pointing to a branch that no longer exists at the
  HEAD revision of the repository. If you want to try the tutorial again, you
  may want to create another branch, and switch your working copy to point to
  the new branch. Otherwise, you can remove your working copy by issuing a
  careful <tt>rm -rf</tt> command.</p>

  <h3><a name="tutorial_delete-final-comments">Final comments</a></h3>

  <p>We have guided you through the basics of the complete change process,
  using recommended ways of working. Most of the basic and important commands
  have been covered by the tutorial. (The exceptions are <strong>fcm
  log</strong> and <strong>fcm update</strong>,
  which you may have to use regularly. For information on these commands, please
  refer to the section on <a href=
  "http://svnbook.red-bean.com/en/1.2/svn.tour.history.html#svn.tour.history.log">svn
  log </a> and <a href=
  "http://svnbook.red-bean.com/en/1.2/svn.tour.cycle.html#svn.tour.cycle.update">
  Update Your Working Copy</a> in the <a href=
  "http://svnbook.red-bean.com/en/1.2/">Subversion book</a>.) You should now be
  in a position to continue with your development work with FCM. However, if at
  any time you are unsure about any aspect of using FCM, please consult the
  relevant section of the <a href="index.html">FCM User Guide</a>.</p>

  <p>Feel free to use the tutorial, at any time, for testing out any aspect of
  the system. You may wish to do this rather than use your own repository and
  ticket system, to avoid cluttering them with unwanted junk.</p>
  
  <script type="text/javascript" src="maintain.js">
  </script>
</body>
</html>
